controller.displayPhotos=function(e){for(var t="",l=0;l<e.length;l++)t+='<figure class="cell"><a href="'+e[l].url+'" data-lightbox="gallary" data-title="'+e[l].title+'">\n        <img src="'+e[l].source+'" alt="'+e[l].title+'"></a><figcaption><span class="left">'+e[l].title+'</span>\n        <span class="right"><img id="'+l+'" src="img/fbl.png" title="Like"><span>'+e[l].likes+"</span></span></figcaption></figure>";$("#gallery").html(t)},controller.likeBtn=function(e){for(var t=0;t<e.length;t++){var l=e[t].id;$("#"+t).click(model.askPermissionToLike(l,t))}},controller.toggleDropdown=function(){$("#dropdown").toggle()},$("input").keypress(function(e){13===e.which&&controller.search()});var resizeTimer;controller.resizeFunction=function(){console.log("Checked if window size is smaller than < 760"),$(window).width()<760&&$("#dropdown").hide()},$(window).resize(function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(controller.resizeFunction,200)}),controller.resizeFunction();var searchImg=[];controller.search=function(){searchImg=[];for(var e=$("#searchTxt").val().toLowerCase().replace(/\s/g,""),t=0;t<img.length;t++)-1!==img[t].title.toLowerCase().replace(/\s/g,"").indexOf(e)&&searchImg.push(img[t]);controller.displayPhotos(searchImg),controller.orderBy(document.getElementById("sort"))},controller.orderBy=function(e){var t=[];switch(t=searchImg.length>0?searchImg:img,e.selectedIndex){case 1:var l=t.sort(function(e,t){return e.likes-t.likes!==0?e.likes-t.likes:e.title<t.title?-1:e.title>t.title?1:void 0});controller.displayPhotos(l),controller.likeBtn(l);break;case 2:var l=t.sort(function(e,t){return t.likes-e.likes!==0?t.likes-e.likes:e.title<t.title?-1:e.title>t.title?1:void 0});controller.displayPhotos(l),controller.likeBtn(l);break;case 3:var l=t.sort(function(e,t){return e.title<t.title?-1:e.title>t.title?1:e.title===t.title?t.likes-e.likes:void 0});controller.displayPhotos(l),controller.likeBtn(l);break;case 4:var l=t.sort(function(e,t){return t.title<e.title?-1:t.title>e.title?1:t.title===e.title?e.likes-t.likes:void 0});controller.displayPhotos(l),controller.likeBtn(l)}};